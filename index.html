<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>‚Ä¶static‚Ä¶</title>
  <style>
    :root{
      --fog:#e6e1d6;
      --ink:#0f0f0f;
      --accent:#c23b3b;
      --card: rgba(10,10,10,.62);
      --line: rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      color: var(--fog);
      background: radial-gradient(1200px 700px at 50% 30%, #2a2a2a 0%, #0a0a0a 55%, #000 100%);
      overflow:hidden;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      letter-spacing:.2px;
    }

    /* Brume */
    .fog, .fog::before, .fog::after{
      position:fixed; inset:-40%;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,.07) 0 28%, transparent 55%),
        radial-gradient(circle at 70% 40%, rgba(255,255,255,.05) 0 22%, transparent 52%),
        radial-gradient(circle at 50% 70%, rgba(255,255,255,.06) 0 26%, transparent 56%);
      filter: blur(18px);
      opacity:.65;
      animation: drift 18s linear infinite;
      pointer-events:none;
      content:"";
    }
    .fog::before{ animation-duration: 26s; opacity:.55; transform: translate3d(-2%,1%,0) scale(1.02); }
    .fog::after{ animation-duration: 34s; opacity:.45; transform: translate3d(2%,-1%,0) scale(1.04); }

    @keyframes drift{
      0%{ transform: translate3d(-2%, -1%, 0) scale(1.02); }
      50%{ transform: translate3d(2%, 1%, 0) scale(1.05); }
      100%{ transform: translate3d(-2%, -1%, 0) scale(1.02); }
    }

    /* Grain + scanlines */
    .grain{
      position:fixed; inset:0;
      background-image:
        repeating-linear-gradient(
          to bottom,
          rgba(255,255,255,.06) 0px,
          rgba(255,255,255,.06) 1px,
          transparent 2px,
          transparent 4px
        );
      mix-blend-mode: overlay;
      opacity:.18;
      pointer-events:none;
      animation: flicker 6s infinite;
    }
    @keyframes flicker{
      0%,100%{ opacity:.16;}
      7%{opacity:.22;}
      13%{opacity:.12;}
      21%{opacity:.20;}
      35%{opacity:.14;}
      55%{opacity:.24;}
      77%{opacity:.15;}
    }

    /* Vignette */
    .vignette{
      position:fixed; inset:0;
      background: radial-gradient(circle at center, transparent 0 55%, rgba(0,0,0,.75) 85%);
      pointer-events:none;
    }

    .wrap{
      width:min(700px, 92vw);
      padding:24px;
    }

    .hud{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      font-size:12px;
      opacity:.85;
      margin-bottom:10px;
    }
    .hud .dot{
      width:10px; height:10px; border-radius:50%;
      background: var(--accent);
      box-shadow: 0 0 14px rgba(194,59,59,.65);
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse{
      0%,100%{ transform:scale(1); opacity:.75;}
      50%{ transform:scale(1.25); opacity:1;}
    }

    .card{
      background: var(--card);
      border:1px solid var(--line);
      border-radius:20px;
      box-shadow: 0 20px 60px rgba(0,0,0,.55);
      padding:22px 18px 18px;
      backdrop-filter: blur(6px);
      position:relative;
    }

    .title{
      font-size: clamp(22px, 3.4vw, 30px);
      margin:0 0 6px;
      text-transform: uppercase;
      letter-spacing: 1.4px;
    }
    .sub{
      margin:0 0 14px;
      font-size:14px;
      color: rgba(230,225,214,.86);
      line-height:1.4;
    }

    .radio{
      font-size:12px;
      opacity:.8;
      border:1px dashed rgba(255,255,255,.18);
      padding:10px 12px;
      border-radius:14px;
      margin:10px 0 18px;
      position:relative;
    }
    .radio b{ color: #fff; }
    .radio .bar{
      height:6px; border-radius:999px;
      background: linear-gradient(90deg, rgba(255,255,255,.0), rgba(194,59,59,.9), rgba(255,255,255,.0));
      opacity:.85;
      animation: sweep 2.4s infinite;
      margin-top:8px;
    }
    @keyframes sweep{
      0%{ transform: translateX(-30%); }
      50%{ transform: translateX(30%); }
      100%{ transform: translateX(-30%); }
    }

    .question{
      margin: 0 0 12px;
      font-size: 18px;
    }

    .arena{
      position:relative;
      height:150px;
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      background: rgba(0,0,0,.25);
      overflow:hidden;
    }
    .btn{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.45);
      color: var(--fog);
      padding:12px 16px;
      border-radius:999px;
      cursor:pointer;
      font-weight:600;
      letter-spacing:.5px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.32); }
    .btn:active{ transform: translateY(0px) scale(.99); }

    .btn-yes{
      border-color: rgba(194,59,59,.55);
      box-shadow: 0 0 18px rgba(194,59,59,.18);
    }
    .btn-yes:hover{ border-color: rgba(194,59,59,.9); }

    /* Placement des boutons dans l'ar√®ne */
    #yes{
      position:absolute;
      left:18px;
      bottom:18px;
    }
    #no{
      position:absolute;
      right:18px;
      bottom:18px;
    }

    .inputRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top:14px;
    }
    input{
      flex:1;
      min-width: 220px;
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.16);
      color: var(--fog);
      padding:12px 14px;
      border-radius:12px;
      outline:none;
    }
    input:focus{ border-color: rgba(194,59,59,.6); box-shadow: 0 0 0 3px rgba(194,59,59,.12); }

    .msg{
      margin-top:12px;
      min-height: 42px;
      font-size:14px;
      line-height:1.4;
      color: rgba(230,225,214,.9);
    }
    .success{
      color: #fff;
      border-left: 3px solid rgba(194,59,59,.9);
      padding-left: 10px;
    }

    .footer{
      margin-top:14px;
      font-size:12px;
      opacity:.7;
    }
  </style>
</head>
<body>
  <div class="fog"></div>
  <div class="grain"></div>
  <div class="vignette"></div>

  <div class="wrap">
    <div class="hud">
      <div style="display:flex;gap:10px;align-items:center">
        <span class="dot"></span>
        <span>RADIO: <span id="freq">‚Ä¶</span> kHz</span>
      </div>
      <div id="time">00:00</div>
    </div>

    <div class="card">
      <h1 class="title">Silent Valentine</h1>
      <p class="sub">Brouillard. Statique. Et une seule issue‚Ä¶</p>

      <div class="radio">
        <div><b>Signal d√©tect√©:</b> ‚ÄúDis-le‚Ä¶ sinon √ßa ne marche pas.‚Äù</div>
        <div class="bar"></div>
      </div>

      <p class="question">Tu veux √™tre mon/ma Valentine ?</p>

      <div class="arena" id="arena">
        <button class="btn btn-yes" id="yes">YES</button>
        <button class="btn" id="no">NO</button>
      </div>

      <div class="inputRow">
        <input id="loveInput" type="text" placeholder='√âcris "je t‚Äôaime" ou "I love you" ici‚Ä¶' autocomplete="off" />
        <button class="btn btn-yes" id="unlock">Valider</button>
      </div>

      <div class="msg" id="msg"></div>
      <div class="footer">Tip: le ‚ÄúNO‚Äù ne coop√®re pas. üëÄ</div>
    </div>
  </div>

  <script>
    // Petits d√©tails d'ambiance
    const freq = document.getElementById("freq");
    const timeEl = document.getElementById("time");
    setInterval(() => {
      const f = (Math.random() * 900 + 100).toFixed(1);
      freq.textContent = f;
      const d = new Date();
      const hh = String(d.getHours()).padStart(2,'0');
      const mm = String(d.getMinutes()).padStart(2,'0');
      timeEl.textContent = `${hh}:${mm}`;
    }, 900);

    const arena = document.getElementById("arena");
    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const msg = document.getElementById("msg");
    const input = document.getElementById("loveInput");
    const unlockBtn = document.getElementById("unlock");

    function normalize(s){
      return (s || "")
        .toLowerCase()
        .trim()
        .replace(/\s+/g, " ")
        .replace(/[‚Äô']/g, "'"); // uniformise apostrophes
    }

    function isLovePhrase(s){
      const n = normalize(s);
      // accepte plusieurs variantes
      return (
        n === "je t'aime" ||
        n === "je t‚Äôaime" ||          // au cas o√π
        n === "jetaime" ||
        n === "i love you" ||
        n === "iloveyou" ||
        n === "i love u" ||
        n === "love you"
      );
    }

    // Bouton NO qui esquive
    function moveNoButton(){
      const a = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      const padding = 12;
      const maxX = a.width - b.width - padding;
      const maxY = a.height - b.height - padding;

      const x = Math.max(padding, Math.random() * maxX);
      const y = Math.max(padding, Math.random() * maxY);

      noBtn.style.left = `${x}px`;
      noBtn.style.top = `${y}px`;
      noBtn.style.right = "auto";
      noBtn.style.bottom = "auto";
    }

    // Au survol / approche -> il fuit
    ["mouseenter","mousemove","touchstart"].forEach(evt => {
      arena.addEventListener(evt, (e) => {
        const target = e.target;
        // si la souris passe pr√®s du bouton no, il bouge
        if (target === noBtn || target.closest("#no")) moveNoButton();
      }, {passive:true});
    });

    // S√©curit√©: si on arrive √† cliquer NO, il bouge et affiche un message
    noBtn.addEventListener("click", () => {
      moveNoButton();
      msg.textContent = "Nope. Le brouillard dit non. üòà";
    });

    // Bouton YES: n√©cessite la phrase d‚Äôamour
    function tryUnlock(){
      const text = input.value;
      if (!isLovePhrase(text)){
        msg.textContent = '√áa ne marche pas‚Ä¶ √âcris exactement "je t‚Äôaime" ou "I love you".';
        msg.className = "msg";
        return false;
      }
      msg.innerHTML = '‚úÖ <span class="success">Autoris√©.</span> Bienvenue, Valentine officielle. üíò';
      msg.className = "msg success";

      yesBtn.disabled = true;
      unlockBtn.disabled = true;
      input.disabled = true;

      // Petit ‚Äúfinal‚Äù
      setTimeout(() => {
        msg.innerHTML = 'üíó <span class="success">Transmission re√ßue:</span> "Je t‚Äôaime aussi." (Happy Valentine‚Äôs Day)';
      }, 1200);
      return true;
    }

    yesBtn.addEventListener("click", () => {
      msg.textContent = 'Le "YES" est verrouill√©. Pour l‚Äôouvrir: √©cris "je t‚Äôaime" ou "I love you".';
      msg.className = "msg";
      input.focus();
    });

    unlockBtn.addEventListener("click", tryUnlock);
    input.addEventListener("keydown", (e) => {
      if (e.key === "Enter") tryUnlock();
    });

    // Place le NO ailleurs au d√©part
    setTimeout(moveNoButton, 300);
  </script>
</body>
</html>

